"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,s,r){return s&&e(t.prototype,s),r&&e(t,r),t}}(),objectFitImages=function(){function e(e,t){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+e+"' height='"+t+"'%3E%3C/svg%3E"}function t(e){if(e.srcset&&!m&&window.picturefill){var t=window.picturefill._;e[t.ns]&&e[t.ns].evaled||t.fillImg(e,{reselect:!0}),e[t.ns].curSrc||(e[t.ns].supported=!1,t.fillImg(e,{reselect:!0})),e.currentSrc=e[t.ns].curSrc||e.src}}function s(e){for(var t,s=getComputedStyle(e).fontFamily,r={};null!==(t=d.exec(s));)r[t[1]]=t[2];return r}function r(t,s,r){var i=e(s||1,r||0);y.call(t,"src")!==i&&b.call(t,"src",i)}function i(e,t){e.naturalWidth?t(e):setTimeout(i,100,e,t)}function o(e){var o=s(e),a=e[c];if(o["object-fit"]=o["object-fit"]||"fill",!a.img){if("fill"===o["object-fit"])return;if(!a.skipTest&&h&&!o["object-position"])return}if(!a.img){a.img=new Image(e.width,e.height),a.img.srcset=y.call(e,"data-ofi-srcset")||e.srcset,a.img.src=y.call(e,"data-ofi-src")||e.src,b.call(e,"data-ofi-src",e.src),e.srcset&&b.call(e,"data-ofi-srcset",e.srcset),r(e,e.naturalWidth||e.width,e.naturalHeight||e.height),e.srcset&&(e.srcset="");try{n(e)}catch(e){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}t(a.img),e.style.backgroundImage='url("'+(a.img.currentSrc||a.img.src).replace(/"/g,'\\"')+'")',e.style.backgroundPosition=o["object-position"]||"center",e.style.backgroundRepeat="no-repeat",e.style.backgroundOrigin="content-box",/scale-down/.test(o["object-fit"])?i(a.img,function(){a.img.naturalWidth>e.width||a.img.naturalHeight>e.height?e.style.backgroundSize="contain":e.style.backgroundSize="auto"}):e.style.backgroundSize=o["object-fit"].replace("none","auto").replace("fill","100% 100%"),i(a.img,function(t){r(e,t.naturalWidth,t.naturalHeight)})}function n(e){var t={get:function(t){return e[c].img[t?t:"src"]},set:function(t,s){return e[c].img[s?s:"src"]=t,b.call(e,"data-ofi-"+s,t),o(e),t}};Object.defineProperty(e,"src",t),Object.defineProperty(e,"currentSrc",{get:function(){return t.get("currentSrc")}}),Object.defineProperty(e,"srcset",{get:function(){return t.get("srcset")},set:function(e){return t.set(e,"srcset")}})}function a(){function e(e,t){return e[c]&&e[c].img&&("src"===t||"srcset"===t)?e[c].img:e}g||(HTMLImageElement.prototype.getAttribute=function(t){return y.call(e(this,t),t)},HTMLImageElement.prototype.setAttribute=function(t,s){return b.call(e(this,t),t,String(s))})}function l(e,t){var s=!v&&!e;if(t=t||{},e=e||"img",g&&!t.skipTest||!p)return!1;"img"===e?e=document.getElementsByTagName("img"):"string"==typeof e?e=document.querySelectorAll(e):"length"in e||(e=[e]);for(var r=0;r<e.length;r++)e[r][c]=e[r][c]||{skipTest:t.skipTest},o(e[r]);s&&(document.body.addEventListener("load",function(e){"IMG"===e.target.tagName&&l(e.target,{skipTest:t.skipTest})},!0),v=!0,e="img"),t.watchMQ&&window.addEventListener("resize",l.bind(null,e,{skipTest:t.skipTest}))}var c="bfred-it:object-fit-images",d=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,u="undefined"==typeof Image?{style:{"object-position":1}}:new Image,h="object-fit"in u.style,g="object-position"in u.style,p="background-size"in u.style,m="string"==typeof u.currentSrc,y=u.getAttribute,b=u.setAttribute,v=!1;return l.supportsObjectFit=h,l.supportsObjectPosition=g,a(),l}(),Slider=function(){function e(){_classCallCheck(this,e),this.index=1,this.slides=document.querySelector(".slider__slides"),this.controls=document.querySelector(".slider__controls"),this.timerId=0}return _createClass(e,[{key:"removeActiveClassFromButtons",value:function(){for(var e=0;e<this.controls.childNodes.length;e++)this.controls.childNodes[e].classList.remove("slider__button_active")}},{key:"scrollRight",value:function(){this.removeActiveClassFromButtons(),this.slides.classList.add("slider__slides_transition"),this.slides.style.left=-this.index*this.slides.clientWidth+"px",this.index<4?this.controls.childNodes[this.index].classList.add("slider__button_active"):this.controls.childNodes[0].classList.add("slider__button_active"),this.index++}},{key:"turnScrollRight",value:function(){this.timerId=setInterval(this.scrollRight.bind(this),6e3)}},{key:"listenTransitionFunction",value:function(){this.index>4&&(this.slides.classList.remove("slider__slides_transition"),this.index=1,this.slides.style.left="0")}},{key:"listenTransition",value:function(){this.slides.addEventListener("transitionend",this.listenTransitionFunction.bind(this))}},{key:"listenControlsFunction",value:function(e){this.removeActiveClassFromButtons(),e.currentTarget.classList.add("slider__button_active");for(var t=0;t<this.controls.childNodes.length;t++)e.currentTarget===this.controls.childNodes[t]&&(this.index=t,this.slides.style.left=-this.index*this.slides.clientWidth+"px")}},{key:"listenControls",value:function(){for(var e=0;e<this.controls.childNodes.length;e++)this.controls.childNodes[e].addEventListener("click",this.listenControlsFunction.bind(this))}},{key:"stopSliderFunction",value:function(){clearInterval(this.timerId)}},{key:"stopSlider",value:function(){this.slides.addEventListener("mouseover",this.stopSliderFunction.bind(this))}},{key:"startSliderFunction",value:function(){this.turnScrollRight()}},{key:"startSlider",value:function(){this.slides.addEventListener("mouseout",this.startSliderFunction.bind(this))}},{key:"turnOn",value:function(){this.turnScrollRight(),this.listenTransition(),this.listenControls(),this.stopSlider(),this.startSlider()}}]),e}();!function(){var e=new Slider;e.turnOn()}();var Select=function(){function e(t,s,r){_classCallCheck(this,e),this.element=document.querySelector(t),this.title=document.querySelector(s),this.list=document.querySelector(r)}return _createClass(e,[{key:"onclickFunction",value:function(e){e.target===this.title?this.list.classList.toggle("open"):"LI"===e.target.tagName&&(this.title.value=e.target.innerHTML,this.list.classList.remove("open"))}},{key:"onclick",value:function(){this.element.addEventListener("click",this.onclickFunction.bind(this))}}]),e}();!function(){var e=new Select("#day-select","#day-select-title","#day-select-list");e.onclick();var t=new Select("#month-select","#month-select-title","#month-select-list");t.onclick();var s=new Select("#year-select","#year-select-title","#year-select-list");s.onclick();var r=new Select("#city-select","#city-select-title","#city-select-list");r.onclick()}();var formValidation=function(){function e(t){_classCallCheck(this,e),this.nameInput=document.querySelector(t.nameInput),this.nameValidImg=document.querySelector(t.nameImgValid),this.nameInvalidImg=document.querySelector(t.nameImgInvalid),this.nameInvalidPopup=document.querySelector(t.namePopupInvalid),this.ageDayInput=document.querySelector(t.ageInputDay),this.ageMonthInput=document.querySelector(t.ageInputMonth),this.ageYearInput=document.querySelector(t.ageInputYear),this.ageValidImg=document.querySelector(t.ageImgValid),this.ageInvalidImg=document.querySelector(t.ageImgInvalid),this.ageInvalidPopup=document.querySelector(t.agePopupInvalid),this.button=document.querySelector(t.button)}return _createClass(e,[{key:"nameValidation",value:function(){var e=/^[a-zа-яё]+(?: [a-zа-яё]+)?$/i;e.test(this.nameInput.value)===!0?(this.nameInvalidImg.classList.remove("show"),this.nameInvalidPopup.classList.remove("show"),this.nameValidImg.classList.add("show")):(this.nameValidImg.classList.remove("show"),this.nameInvalidImg.classList.add("show"),this.nameInvalidPopup.classList.add("show"))}},{key:"ageValidation",value:function(){"Day"===this.ageDayInput.value||"Month"===this.ageMonthInput.value||"Year"===this.ageYearInput.value?(this.ageInvalidImg.classList.add("show"),this.ageInvalidPopup.classList.add("show"),this.ageValidImg.classList.remove("show")):(this.ageInvalidImg.classList.remove("show"),this.ageInvalidPopup.classList.remove("show"),this.ageValidImg.classList.add("show"))}},{key:"validatingFunction",value:function(){this.nameValidation.call(this),this.ageValidation.call(this)}},{key:"validating",value:function(){this.button.addEventListener("click",this.validatingFunction.bind(this))}}]),e}();!function(){var e=new formValidation({nameInput:".form__forms-name-input",nameImgValid:"#name-valid",nameImgInvalid:"#name-invalid",namePopupInvalid:"#name-invalid-popup",ageInputDay:"#day-select-title",ageInputMonth:"#month-select-title",ageInputYear:"#year-select-title",ageImgValid:"#age-valid",ageImgInvalid:"#age-invalid",agePopupInvalid:"#age-invalid-popup",button:".form__button-input"});e.validating()}();var UserSlider=function(){function e(t,s,r){_classCallCheck(this,e),this.users=document.querySelector(t),this.rightButton=document.querySelector(s),this.leftButton=document.querySelector(r)}return _createClass(e,[{key:"scrollRight",value:function(){this.users.style.transition="ease-out 1s",this.users.style.right="160px"}},{key:"scrollLeft",value:function(){this.users.style.transition="ease-out 1s",this.users.style.right="0px"}},{key:"refresh",value:function(){this.users.style.transition="",this.users.style.right="80px"}},{key:"addListeners",value:function(){this.rightButton.addEventListener("click",this.scrollRight.bind(this)),this.leftButton.addEventListener("click",this.scrollLeft.bind(this)),this.users.addEventListener("transitionend",this.refresh.bind(this))}}]),e}();!function(){var e=new UserSlider(".user-list__slider-users",".user-list__slider-right",".user-list__slider-left");e.addListeners()}(),function(){document.querySelector(".user-list__progress").addEventListener("click",function(e){e.target===document.querySelector("#users-mask")&&document.querySelector(".user-list__progress-active").classList.remove("progress-show"),e.target===document.querySelector("#active-mask")&&document.querySelector(".user-list__progress-active").classList.add("progress-show")})}();var ProgressBar=function(){function e(t){_classCallCheck(this,e),this.linePBar=document.querySelector(t.linePB),this.input=document.querySelector(t.input),this.lineSpan=document.querySelector(t.lineSpan),this.stepList=document.querySelector(t.stepList),this.starList=document.querySelector(t.starList)}return _createClass(e,[{key:"lineBar",value:function(){this.linePBar.value=this.input.value,this.lineSpan.innerHTML=this.input.value+"%"}},{key:"stepBar",value:function(){this.input.value>=20?(this.stepList.childNodes[0].childNodes[0].classList.add("user-list__progress-body-line-breadcrumbs_choose"),this.starList.childNodes[0].classList.add("user-list__progress-body-round-starbar-star_choose")):(this.stepList.childNodes[0].childNodes[0].classList.remove("user-list__progress-body-line-breadcrumbs_choose"),this.starList.childNodes[0].classList.remove("user-list__progress-body-round-starbar-star_choose")),this.input.value>=40?(this.stepList.childNodes[1].childNodes[0].classList.add("user-list__progress-body-line-breadcrumbs_choose"),this.starList.childNodes[1].classList.add("user-list__progress-body-round-starbar-star_choose")):(this.stepList.childNodes[1].childNodes[0].classList.remove("user-list__progress-body-line-breadcrumbs_choose"),this.starList.childNodes[1].classList.remove("user-list__progress-body-round-starbar-star_choose")),this.input.value>=60?(this.stepList.childNodes[2].childNodes[0].classList.add("user-list__progress-body-line-breadcrumbs_choose"),this.starList.childNodes[2].classList.add("user-list__progress-body-round-starbar-star_choose")):(this.stepList.childNodes[2].childNodes[0].classList.remove("user-list__progress-body-line-breadcrumbs_choose"),this.starList.childNodes[2].classList.remove("user-list__progress-body-round-starbar-star_choose")),this.input.value>=80?(this.stepList.childNodes[3].childNodes[0].classList.add("user-list__progress-body-line-breadcrumbs_choose"),this.starList.childNodes[3].classList.add("user-list__progress-body-round-starbar-star_choose")):(this.stepList.childNodes[3].childNodes[0].classList.remove("user-list__progress-body-line-breadcrumbs_choose"),this.starList.childNodes[3].classList.remove("user-list__progress-body-round-starbar-star_choose")),this.input.value>=100?(this.stepList.childNodes[4].childNodes[0].classList.add("user-list__progress-body-line-breadcrumbs_choose"),this.starList.childNodes[4].classList.add("user-list__progress-body-round-starbar-star_choose")):(this.stepList.childNodes[4].childNodes[0].classList.remove("user-list__progress-body-line-breadcrumbs_choose"),this.starList.childNodes[4].classList.remove("user-list__progress-body-round-starbar-star_choose"))}},{key:"roundBar",value:function(e,t){var s=void 0;e<50?(s=3.6*e,t.parentNode.querySelector("#round-progressbar-section3").style.webkitTransform="rotate("+s+"deg)",t.parentNode.querySelector("#round-progressbar-section3 .user-list__progress-body-round-progressbar-item").style.webkitTransform="rotate("+(180-s)+"deg)",t.parentNode.querySelector("#round-progressbar-section3").style.msTransform="rotate("+s+"deg)",t.parentNode.querySelector("#round-progressbar-section3 .user-list__progress-body-round-progressbar-item").style.msTransform="rotate("+(180-s)+"deg)",t.parentNode.querySelector("#round-progressbar-section3").style.MozTransform="rotate("+s+"deg)",t.parentNode.querySelector("#round-progressbar-section3 .user-list__progress-body-round-progressbar-item").style.MozTransform="rotate("+(180-s)+"deg)",t.parentNode.querySelector("#round-progressbar-section3 .user-list__progress-body-round-progressbar-item").style.backgroundColor="#e7e8e8"):(s=3.6*e-180,t.parentNode.querySelector("#round-progressbar-section3").style.webkitTransform="rotate(180deg)",t.parentNode.querySelector("#round-progressbar-section3 .user-list__progress-body-round-progressbar-item").style.webkitTransform="rotate("+s+"deg)",t.parentNode.querySelector("#round-progressbar-section3").style.msTransform="rotate(180deg)",t.parentNode.querySelector("#round-progressbar-section3 .user-list__progress-body-round-progressbar-item").style.msTransform="rotate("+s+"deg)",t.parentNode.querySelector("#round-progressbar-section3").style.MozTransform="rotate(180deg)",t.parentNode.querySelector("#round-progressbar-section3 .user-list__progress-body-round-progressbar-item").style.MozTransform="rotate("+s+"deg)",t.parentNode.querySelector("#round-progressbar-section3 .user-list__progress-body-round-progressbar-item").style.backgroundColor="#ffa352"),t.parentNode.querySelector(".user-list__progress-body-round-progressbar-span").innerHTML=e+"%"}},{key:"addListener",value:function(){this.input.addEventListener("input",function(){this.lineBar(),this.stepBar(),this.roundBar(this.input.value,this.input.parentNode)}.bind(this))}}]),e}();!function(){var e=new ProgressBar({linePB:".user-list__progress-body-line-bar",input:".user-list__progress-body-line-input",lineSpan:".user-list__progress-body-line-span",stepList:".user-list__progress-body-line-breadcrumbs-list",starList:".user-list__progress-body-round-starbar"});e.roundBar(e.input.value,e.input.parentNode),e.addListener()}(),function(){document.querySelector(".how-to-succeed__paragraph_more").addEventListener("click",function(){document.querySelector(".how-to-succeed__paragraph_more-arrow").classList.toggle("how-to-succeed__paragraph_more-arrow-rotate"),document.querySelector(".how-to-succeed__subparagraph").classList.toggle("how-to-succeed__subparagraph_show")})}();